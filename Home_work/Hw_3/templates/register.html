{% extends "base.html" %}
{% block title %}Регистрация{% endblock %}
{% block header %}Регистрация{% endblock %}
{% block content %}
<form action="{{ url_for('register') }}" method="POST" onsubmit="return validatePassword()">
    {{ form.csrf_token }}
    <label for="username">Имя пользователя:</label><br>
    <input type="text" id="username" name="username" required><br>
    {% if form.username.errors %}
    <ul class="errors">
        {% for error in form.username.errors %}
        <li>{{ error }}</li>
        {% endfor %}
    </ul>
    {% endif %}
    <label for="last_name">Фамилия:</label><br>
    <input type="text" id="last_name" name="last_name" required><br>

    <label for="email">Email:</label><br>
    <input type="email" id="email" name="email" required><br>

    <label for="password">Пароль:</label><br>
    <input type="password" id="password" name="password" required><br>

    <label for="confirm_password">Подтвердите пароль:</label><br>
    <input type="password" id="confirm_password" name="confirm_password" required><br>

    <button type="submit">Зарегистрироваться</button>
</form>

<script>
    function validatePassword() {
        var password = document.getElementById("password").value;
        var confirmPassword = document.getElementById("confirm_password").value;
        if (password !== confirmPassword) {
            alert("Пароли не совпадают!");
            return false;
        }
        return true;
    }
</script>
{% endblock %}
